<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CF Method Cube Viewer v1.2.8N (CSS 3D, Remap)</title>
  <!-- ✅ 修正点：ファイル名を v1_2_8N に統一 -->
  <link rel="stylesheet" href="viewer_3d_v1_2_8N.css" />
</head>

<body>
  <div class="page">
    <h1>CF Method Cube Viewer v1.2.8N (CSS 3D, Non-WebGL)</h1>

    <p class="subtitle">
      v1.2.8N は <strong>3Dキューブ表示（CSS 3D）</strong> + <strong>内部状態</strong> + <strong>6面単体</strong> 対応版です。<br>
      さらに、操作の面割り当てを調整しています（ご指定：R→旧F、F→旧L、L→旧B、B→旧R）。<br>
      マウスドラッグ / スワイプで視点を回転、ボタンや Alg 入力でキューブを操作できます。
    </p>

    <div class="cube-row">
      <div class="cube-block">
        <h2>左：3×3 全体ビュー</h2>
        <div class="cube-scene" id="scene-main">
          <div class="cube3d" id="cube-main">
            <div class="face face-U">
              <div class="sticker" data-face="U" data-index="0"></div>
              <div class="sticker" data-face="U" data-index="1"></div>
              <div class="sticker" data-face="U" data-index="2"></div>
              <div class="sticker" data-face="U" data-index="3"></div>
              <div class="sticker" data-face="U" data-index="4"></div>
              <div class="sticker" data-face="U" data-index="5"></div>
              <div class="sticker" data-face="U" data-index="6"></div>
              <div class="sticker" data-face="U" data-index="7"></div>
              <div class="sticker" data-face="U" data-index="8"></div>
            </div>
            <div class="face face-R">
              <div class="sticker" data-face="R" data-index="0"></div>
              <div class="sticker" data-face="R" data-index="1"></div>
              <div class="sticker" data-face="R" data-index="2"></div>
              <div class="sticker" data-face="R" data-index="3"></div>
              <div class="sticker" data-face="R" data-index="4"></div>
              <div class="sticker" data-face="R" data-index="5"></div>
              <div class="sticker" data-face="R" data-index="6"></div>
              <div class="sticker" data-face="R" data-index="7"></div>
              <div class="sticker" data-face="R" data-index="8"></div>
            </div>
            <div class="face face-F">
              <div class="sticker" data-face="F" data-index="0"></div>
              <div class="sticker" data-face="F" data-index="1"></div>
              <div class="sticker" data-face="F" data-index="2"></div>
              <div class="sticker" data-face="F" data-index="3"></div>
              <div class="sticker" data-face="F" data-index="4"></div>
              <div class="sticker" data-face="F" data-index="5"></div>
              <div class="sticker" data-face="F" data-index="6"></div>
              <div class="sticker" data-face="F" data-index="7"></div>
              <div class="sticker" data-face="F" data-index="8"></div>
            </div>
            <div class="face face-D">
              <div class="sticker" data-face="D" data-index="0"></div>
              <div class="sticker" data-face="D" data-index="1"></div>
              <div class="sticker" data-face="D" data-index="2"></div>
              <div class="sticker" data-face="D" data-index="3"></div>
              <div class="sticker" data-face="D" data-index="4"></div>
              <div class="sticker" data-face="D" data-index="5"></div>
              <div class="sticker" data-face="D" data-index="6"></div>
              <div class="sticker" data-face="D" data-index="7"></div>
              <div class="sticker" data-face="D" data-index="8"></div>
            </div>
            <div class="face face-L">
              <div class="sticker" data-face="L" data-index="0"></div>
              <div class="sticker" data-face="L" data-index="1"></div>
              <div class="sticker" data-face="L" data-index="2"></div>
              <div class="sticker" data-face="L" data-index="3"></div>
              <div class="sticker" data-face="L" data-index="4"></div>
              <div class="sticker" data-face="L" data-index="5"></div>
              <div class="sticker" data-face="L" data-index="6"></div>
              <div class="sticker" data-face="L" data-index="7"></div>
              <div class="sticker" data-face="L" data-index="8"></div>
            </div>
            <div class="face face-B">
              <div class="sticker" data-face="B" data-index="0"></div>
              <div class="sticker" data-face="B" data-index="1"></div>
              <div class="sticker" data-face="B" data-index="2"></div>
              <div class="sticker" data-face="B" data-index="3"></div>
              <div class="sticker" data-face="B" data-index="4"></div>
              <div class="sticker" data-face="B" data-index="5"></div>
              <div class="sticker" data-face="B" data-index="6"></div>
              <div class="sticker" data-face="B" data-index="7"></div>
              <div class="sticker" data-face="B" data-index="8"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="cube-block">
        <h2>右：6面単体ビュー / 内部状態</h2>
        <div class="face-panels" id="face-panels">
          <!-- 6面単体ビューはJS側で初期化される想定 -->
        </div>
        <div class="history-block">
          <h3>履歴</h3>
          <div id="history"></div>
        </div>
      </div>
    </div>

    <div class="controls">
      <h2>操作</h2>
      <div class="buttons">
        <button data-move="U">U</button><button data-move="U'">U'</button><button data-move="U2">U2</button>
        <button data-move="R">R</button><button data-move="R'">R'</button><button data-move="R2">R2</button>
        <button data-move="F">F</button><button data-move="F'">F'</button><button data-move="F2">F2</button>
        <button data-move="D">D</button><button data-move="D'">D'</button><button data-move="D2">D2</button>
        <button data-move="L">L</button><button data-move="L'">L'</button><button data-move="L2">L2</button>
        <button data-move="B">B</button><button data-move="B'">B'</button><button data-move="B2">B2</button>
      </div>

      <div class="alg-input">
        <input id="alg" type="text" placeholder="例: R U R' U'" />
        <button id="runAlg">Run</button>
        <button id="reset">Reset</button>
      </div>
    </div>
  </div>

  <!-- ✅ 修正点：JS参照を v1_2_8N に統一（body末尾で読み込み） -->
  <script src="viewer_3d_v1_2_8N.js"></script>
</body>
</html>
