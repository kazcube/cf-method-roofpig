<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CF Method Cube Viewer v3.1.20 (Root版・完全動作)</title>

  <!-- ===========================================================
     1. jQuery（最重要：Roofpigが必ず必要とする依存ライブラリ）
     ※ GitHub Pages で確実に読み込まれる Google CDN を使用
     =========================================================== -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

  <!-- ===========================================================
     2. Roofpig本体
     ※ libs フォルダ内の roofpig_and_three.min.js を参照
     =========================================================== -->
  <script src="libs/roofpig_and_three.min.js"></script>

  <!-- ===========================================================
     3. Viewer用CSS
     =========================================================== -->
  <link rel="stylesheet" href="style.css">

  <style>
    body {
      background:#111;
      color:#f5f5f5;
      font-family:system-ui, sans-serif;
      padding:20px;
    }
    h1 {
      text-align:center;
      margin-bottom:30px;
    }
    .layout {
      display:flex;
      gap:24px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .panel {
      background:#1e1e1e;
      padding:16px;
      border-radius:12px;
      width:420px;
    }
    textarea {
      width:100%;
      background:#000;
      color:#fff;
      margin-top:8px;
      padding:6px;
      border-radius:6px;
      border:1px solid #444;
    }
    button {
      margin:4px;
      padding:6px 12px;
      border:none;
      border-radius:6px;
      background:#333;
      color:white;
      cursor:pointer;
    }
    button:hover {
      background:#555;
    }
  </style>
</head>

<body>
  <h1>CF Method Cube Viewer v3.1.20</h1>

  <div class="layout">

    <!-- ===========================================================
         3×3 Viewer
         =========================================================== -->
    <div class="panel">
      <h2>3×3 Viewer</h2>
      <div id="cube3" class="roofpig"
           data-config="alg=|colors=F:g B:b U:w D:y R:r L:o|hover=3|speed=700"
           style="width:260px;height:320px;margin:auto;">
      </div>

      <div>
        <button onclick="randomScramble()">Random Scramble (20)</button>
        <button onclick="randomScrambleApply()">Random + Apply</button>
        <button onclick="randomScrambleApplyCorner()">Random + Apply Corner</button>
      </div>

      <textarea id="scrambleInput" placeholder="スクランブル手順"></textarea>
      <button onclick="applyScramble()">Apply Scramble</button>
      <button onclick="resetCube()">Reset</button>

      <textarea id="algInput" placeholder="手順入力 (R U R' U' など)"></textarea>
      <button onclick="applyAlg()">適用</button>
      <button onclick="clearAlg()">クリア</button>
    </div>

    <!-- ===========================================================
         Corner-only Viewer
         =========================================================== -->
    <div class="panel">
      <h2>Corner-only</h2>

      <div id="cube2" class="roofpig"
           data-config="alg=|colors=F:g B:b U:w D:y R:r L:o|pieces=corner|hover=3|speed=700"
           style="width:260px;height:320px;margin:auto;">
      </div>

      <div>
        <button onclick="applyScrambleToCorner()">Scramble→Corner</button>
        <button onclick="resetCorner()">Reset Corner</button>
      </div>

      <textarea id="algInputCorner" placeholder="Corner手順"></textarea>
      <button onclick="applyAlgCorner()">Corner適用</button>
      <button onclick="clearAlgCorner()">Cornerクリア</button>
    </div>

  </div>

  <!-- ===========================================================
       viewer.js（必ず最後に読み込む）
       =========================================================== -->
  <script src="viewer.js"></script>

</body>
</html>
